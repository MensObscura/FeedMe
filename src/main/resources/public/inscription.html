<!-- 
©Copyright 2015 - FeedMe
Page proposant le formulaire d'inscription.
 -->

<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<title>Inscription</title>
		<script src="/resources/js/angular.min.js"></script>
		<script src="/resources/js/jquery-2.1.4.min.js"></script>
		<script src="/resources/js/jquery.datetimepicker.js"></script>
        
        <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css"  href="resources/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="resources/fonts/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" type="text/css"  href="resources/css/style.css">
    <link rel="stylesheet" type="text/css" href="resources/css/responsive.css">

    <link rel='stylesheet' type='text/css' href='resources/fonts/general-font.css'>
        <link rel="stylesheet" type="text/css" href="/resources/css/jquery.datetimepicker.css"/ >
</head>
	
	<body ng-app="Inscription">
        
        <nav id="tf-menu" class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><img class="logo" src="resources/img/icon.png" /> FeedMe</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="index.html">Retour à l'accueil</a></li>
            <li><a href="resources/login.html">Se connecter</a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>
		<!-- Menu -->
    <div id="StyleFormulaireInscription" class="text-center">
        <div class="overlay">
            <div class="general-form">

                <!-- Formulaire d'inscription -->
        <div class="inscriptionForm">
            <h2>Inscription</h2>
            <form name="InscriptionForm" class="text-center" ng-controller="InscriptionCtrl" ng-submit="submitForm()" novalidate>

                <div class="textAndInput">
                    <label for="nom">Nom* : </label>
                    <input type="text" class="info-field" name="nom" ng-model="nom" ng-required="true" placeholder="Nom">
                    <span style="color:red" ng-show="InscriptionForm.nom.$invalid && !InscriptionForm.nom.$pristine"><span ng-show="InscriptionForm.nom.$error.required">Veuillez saisir votre nom.</span></span>
                </div>

                <div class="textAndInput">
                    <label for="prenom">Prénom* : </label>
                    <input type="text" class="info-field" name="prenom" ng-model="prenom" ng-required="true" placeholder="Prénom">
                    <span style="color:red" ng-show="InscriptionForm.prenom.$invalid && !InscriptionForm.prenom.$pristine"><span ng-show="InscriptionForm.prenom.$error.required">Veuillez saisir votre prénom.</span></span><br/>
                </div>

                <div class="textAndInput">
                    <label for="anniversaire">Date de naissance* : </label>
                    <input type="text" class="info-field" name="anniversaire" ng-model="anniversaire" id="anniversaire" ng-readonly="true" placeholder="Date de naissance"><br/>
                </div>

                <div class="textAndInput">
                    <label for="mdp">Mot de passe* : </label>
                    <input type="password" class="info-field" name="mdp" ng-model="mdp" ng-required="true" placeholder="Mot de passe">
                    <span style="color:red" ng-show="InscriptionForm.mdp.$invalid && !InscriptionForm.mdp.$pristine"><br/><span ng-show="InscriptionForm.mdp.$error.required">Veuillez saisir un mot de passe.</span></span><br/>
                </div>

                <div class="textAndInput">
                    <label for="cmdp">Confirmez le mot de passe* : </label>
                    <input type="password" class="info-field" name="cmdp" ng-model="cmdp" ng-required="true" placeholder="Mot de passe" ensure-expression="mdp == cmdp">
                    <span style="color:red" ng-show="InscriptionForm.cmdp.$invalid && !InscriptionForm.cmdp.$pristine">
                        <span ng-show="InscriptionForm.cmdp.$error.required">Veuillez confirmer le mot de passe.</span>
                        <span ng-show="InscriptionForm.cmdp.$error.mauvaismdp && !InscriptionForm.cmdp.$error.required && !InscriptionForm.mdp.$error.required">Les mots de passe sont différents.</span><br/>
                    </span>
                </div>

                <div class="textAndInput">
                    <label for="email">Adresse mail* : </label>
                    <input type="email" class="info-field" name="email" ng-model="email" ng-required="true" placeholder="Adresse mail">
                    <span style="color:red" ng-show="InscriptionForm.email.$invalid && !InscriptionForm.email.$pristine">
                        <span ng-show="InscriptionForm.email.$error.required">Veuillez saisir votre email.</span>
                        <span ng-show="InscriptionForm.email.$error.email">Votre email est invalide.</span>
                    </span><br/>
                </div>

                <!-- Validation du formulaire : disponible uniquement quand les champs sont valides -->
                <button type="submit" ng-disabled="nonValide()">Confirmer</button>
            </form>
              </div>  
            </div>
        </div>
    </div>

		<script src="/resources/js/script-inscription.js"></script>
		<script type="text/javascript">
		$(document).ready(function(){
			var aujourdhui = new Date();
			var date = "";
			// On créé la date d'aujourd'hui sous le bon format
			if ((aujourdhui.getMonth()+1) < 10) {
				if ((aujourdhui.getDate()+1) < 10)
					date = aujourdhui.getFullYear()+'-0'+(aujourdhui.getMonth()+1)+'-0'+aujourdhui.getDate();
				else
					date = aujourdhui.getFullYear()+'-0'+(aujourdhui.getMonth()+1)+'-'+aujourdhui.getDate();
			}
		    else {
				if ((aujourdhui.getDate()+1) < 10)
					date = aujourdhui.getFullYear()+'-'+(aujourdhui.getMonth()+1)+'-0'+aujourdhui.getDate();
				else
					date = aujourdhui.getFullYear()+'-'+(aujourdhui.getMonth()+1)+'-'+aujourdhui.getDate();
		    }
			// On pré-rempli le champs avec la date du jour.
			$('#anniversaire').val(date);
			// On charge le "DateTimePicker" que l'on incruste dans la division "anniversaire"
			$('#anniversaire').datetimepicker({
				format: "Y-m-d", // Format de la date
				timepicker: false, // Le choix de l'heure n'est pas utilisé
				maxDate:'0', // = On ne peut pas choisir une date supérieures à celle d'aujourd'hui
			});
		});
		</script>
		
		<!-- Pied de page -->
		<div ng-include="'/resources/footer.html'"></div>
	</body>
</html>
